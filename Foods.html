<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Foods - Myanmar Travel</title>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet"/>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
<link rel="stylesheet" href="./index.css"/>

<style>
:root{
  --brand:#198754;
  --ink:#1f2937;
  --muted:#6b7280;
  --ring:#e5e7eb;
  --card:#ffffff;
  --bg:#f7f7fb;
}

html,body{
  background:var(--bg);
  color:var(--ink);
  font-family:'Poppins',sans-serif;
}
 /* Navbar hover effects */

/* --- Navbar Custom Style --- */
/* Modern clean travel-style navbar */
.navbar ul{
  list-style-type: none;
  padding: 0px;
  margin:0px;

}

navbar .nav-link {
  color:white; /* default color */
  text-decoration: none;
  padding:15px;
  display:block;
  text-align: center;
  }
  
  .navbar .nav-link:hover {
  background-color: goldenrod /* bright green hover color */
  }

.page-hero{
  position: relative;
  padding: 80px 0 60px;
  background:
    radial-gradient(1200px 300px at 50% -80px, rgba(25,135,84,.18), transparent 60%),
    linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.0)),
    url('image/Fo1.jpg') center/cover no-repeat;
    text-align:center;
}
.page-hero h1{
  font-weight:700; 
  font-size: clamp(1.8rem, 4vw, 2.6rem);
  text-shadow: 0 2px 16px rgba(0,0,0,.35);
}

.section-title{
  font-weight:700; 
  letter-spacing:.4px; 
  text-align:center; 
  margin-bottom: 1.25rem;
}

.card{
  border: 1px solid var(--ring);
  border-radius: 18px;
  overflow: hidden;
  background:var(--card);
  transition: transform .28s ease, box-shadow .28s ease;
}
.card:hover{
  transform: translateY(-6px);
  box-shadow: 0 18px 40px -18px rgba(0,0,0,.3);
}
.card img{ height: 220px; object-fit: cover; }
.card-body{ padding: 16px 18px 18px; }
.card-title{ font-weight: 700; margin-bottom: .35rem; }
.card-text{ color: var(--ink); margin-bottom: .75rem; }

#foodDropdown{
  position: absolute;
  top:100%; left:0; width:100%;
  max-height:300px; overflow-y:auto;
  z-index:1000; display:none;
}
#foodDropdown li{ cursor:pointer; }
</style>
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-gray shadow-sm sticky-top" style="background: #FFFFFF">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="./index.html">
        <div class="logo-circle me-2">
          <img src="./image/nav-logo.png" alt="Myanmar Travel Logo">
        </div>
        <span class="fw-bold ">MYANMAR TRAVEL</span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#travelNavbar" aria-controls="travelNavbar" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
  
      <div class="collapse navbar-collapse" id="travelNavbar">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link active" href="./index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link active" href="./des.html">Destinations</a></li>
          <li class="nav-item"><a class="nav-link active" href="./Festivals.html">Festivals</a></li>
          <li class="nav-item"><a class="nav-link active" href="./Foods.html">Foods</a></li>
        </ul>
  
        <!-- prevent default submit on Enter -->
        <form class="d-flex position-relative" onsubmit="return false;">
          <input class="form-control me-2 rounded-pill" type="search" id="searchInput"
                 placeholder="Search here..." autocomplete="off"
                 onfocus="this.style.border=`2px solid green`"
                 style="border-color: green; padding:5px; border:2px solid green">
          <ul id="searchDropdown" class="list-group position-absolute w-100 shadow-sm"
              style="top:100%; left:0; z-index:1000; display:none;"></ul>
        </form>
        
      </div>
    </div>
  </nav>

<header class="page-hero">
  <div class="container">
    <h1 class="two-sentence">Discover Myanmarâ€™s Favorite Dishes</h1>
  </div>
</header>

<section class="py-5">
  <div class="container">
    <div id="content"></div>
  </div>
</section>

<script>
let foodsData = [];
let foodsFlat = [];
const content = document.getElementById("content");
const foodSearch = document.getElementById("searchInput");
const foodDropdown = document.getElementById("searchDropdown");
// Load foods JSON
fetch("foods.json")
  .then(res=>res.json())
  .then(data=>{
    foodsData = data;
    foodsFlat = data.flatMap(cat=>cat.foods.map(f=>({...f, category:cat.name})));
    showCategories();
  })
  .catch(err=>{ console.error(err); content.innerHTML="<p>Failed to load foods.</p>"; });

// Display categories
function showCategories(){
  content.innerHTML = `<h2 class="section-title">Enjoy the Traditional Flavors of Myanmar</h2><div class="row g-4" id="category-container"></div>`;
  const container = document.getElementById("category-container");
  foodsData.forEach(cat=>{
    const col = document.createElement("div");
    col.className = "col-md-6 col-lg-6";
    col.innerHTML = `
      <div class="card h-100 shadow-sm">
        <img src="${cat.image}" alt="${cat.name}">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">${cat.name}</h5>
          <p class="card-text text-muted">${cat.description}</p>
          <button class="btn btn-outline-dark rounded-pill mt-auto" onclick="showFoods('${cat.name}')">Explore</button>
        </div>
      </div>
    `;
    container.appendChild(col);
  });
}

// Show foods inside category
function showFoods(categoryName){
  const cat = foodsData.find(c=>c.name===categoryName);
  if(!cat) return;
  content.innerHTML = `
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h2 class="section-title m-0">${cat.name}</h2>
      
    </div>
    <div class="row g-4" id="food-container"></div>
  `;
  const container = document.getElementById("food-container");
  cat.foods.forEach(food=>{
    const col = document.createElement("div");
    col.className = "col-md-6 col-lg-4";
    col.innerHTML = `
      <div class="card h-100 shadow-sm">
        <img src="${food.image}" alt="${food.name}">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">${food.name}</h5>
          <p class="card-text">${food.description}</p>
          <button class="btn btn-outline-dark rounded-pill" onclick="showCategories()">Back</button>

        </div>
        
      </div>
    `;
    container.appendChild(col);
  });
}

// Search functionality
foodSearch.addEventListener("input", function(){
  const query = this.value.toLowerCase();
  foodDropdown.innerHTML="";
  if(!query){ foodDropdown.style.display="none"; return; }

  const filtered = foodsFlat.filter(f=>f.name.toLowerCase().includes(query));
  if(filtered.length===0){
    foodDropdown.innerHTML=`<li class="list-group-item text-center text-muted">No results found</li>`;
  } else {
    filtered.forEach(f=>{
      const li = document.createElement("li");
      li.className="list-group-item d-flex align-items-center justify-content-between";
      li.innerHTML=`
        <div class="d-flex align-items-center">
          <img src="${f.image}" class="rounded-circle me-2" width="40" height="40" alt="${f.name}">
          <span>${f.name}</span>
        </div>
        <button class="btn btn-sm btn-outline-success" onclick="showFoods('${f.category}')">View</button>
      `;
      foodDropdown.appendChild(li);
    });
  }
  foodDropdown.style.display="block";
});

// Hide dropdown when clicking outside
document.addEventListener("click", e=>{
  if(!foodSearch.contains(e.target) && !foodDropdown.contains(e.target)){
    foodDropdown.style.display="none";
  }
});
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="./search.js"></script>

</body>
</html>
